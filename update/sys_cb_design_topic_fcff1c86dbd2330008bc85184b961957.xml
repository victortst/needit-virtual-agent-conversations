<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__ecff1c86c3d23300f134dd908c6c7854">f8ff1c86dbd2330008bc85184b961955</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"b909d8f1adbd40529581c9a8c9cc773a","triggerType":"request","id":"b909d8f1adbd40529581c9a8c9cc773a"}],"goals":[{"name":"primary","trigger_id":"b909d8f1adbd40529581c9a8c9cc773a","nodes":[{"type":"StartGoal","goal_id":"d9e9ea2389424311bbff97f35c10b857","greeting_msg":{"type":"String","mode":"string","value":"I can help you find and update NeedIt records for a type of request."},"id":"bbd3c8845bbd4bcb98d18be5d51c9fc5","name":"Start"},{"type":"TerminateGoal","goal_id":"d9e9ea2389424311bbff97f35c10b857","confirmation_msg":{"type":"String","mode":"string","value":"Ask again when you need to update other NeedIt records."},"id":"da745c5b2f344b2494a612b268d7df21","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"f811153eae214351b797c25b09e8b4e6","name":"NeedIt Type","goal_id":"d9e9ea2389424311bbff97f35c10b857","variable_id":"e2d8ba54ba6943abaf902582ae7fef1e","message":{"type":"String","mode":"string","value":"What type of NeedIt record would you like to view?"},"optional":false},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n\t    // Return the display value (Label) for the needit_type choice\n\t    return 'You selected: ' + vaInputs.needit_type.getDisplayValue();\n})()"},"id":"528dc09f287e4b928736e6348dfd68c9","name":"Confirm NeedIt Type","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"ed7dad872bc441eb9ffb8c079e39138c","name":"NeedIt List","goal_id":"d9e9ea2389424311bbff97f35c10b857","variable_id":"5686613a658046e08dba3f55e171d4ee","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view"},"optional":false,"expression_mode":"script","script":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number and short_description for the\n\t    // NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \": \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n\t\n\t    // Initialize an array for the list of NeedIt records to show\n\t    var options = [];\n\t\n\t    // Query the table selected in the Table field for active records with the \n\t    // u_request_type selected in the NeedIt Type node where the user is the \n\t    // u_requested_for.\n\t    var grNI = new GlideRecord(table);\n\t    grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n\t    grNI.addQuery('active','true');\n\t    grNI.addQuery('u_requested_for',vaInputs.user);\n\t    grNI.query();\n\t\n\t    // Push a value and label pair to the array for each record the query returns.\n\t    // The value is the unique value. The label is the number and short_description for the\n\t    // NeedIt record.\n\t    while(grNI.next()) {\n\t        options.push({ 'value': grNI.getUniqueValue(), 'label': grNI.getValue('number') + \": \" + grNI.getValue('short_description') });\n\t    }\n\t\n\t    // Return the array\n\t    return options;\n\t\n\t})(table)"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"5686613a658046e08dba3f55e171d4ee","fields":["priority","short_description","u_when_needed","u_requested_for"],"id":"d7264a78911a4c868fbbf2aae30701bd","name":"NeedIt Card","goal_id":"d9e9ea2389424311bbff97f35c10b857","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"InputPrompt","variable_id":"37fc0f3db1ab4a28be42e7fea628bd61","message":{"type":"String","mode":"string","value":"Would you like to view another NeedIt Record?"},"optional":false,"id":"0cf8fb26b561403cb68ae09d77932e83","name":"Search Again","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"Decision","name":"Find more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"49a4fd64057b4b9886016d8cd9cc92e3","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"0f05161b3cde4311be89181c9e74cf59","name":"Yes"}],"id":"d258e98b0e794c95886a6211ed96182f","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"InputPrompt","variable_id":"b9ee348078604c4d9f68b1281e64e6e0","message":{"type":"String","mode":"string","value":"When do you need the NeedIt completed?"},"optional":false,"id":"816750e675ac401e811dcfdc027b2a86","name":"New When Needed Date","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"CRUDAction","mode":"update","query":"u_when_needed={{vaInputs.new_when_needed_date}}","variable_id":"5686613a658046e08dba3f55e171d4ee","id":"59bf316047074ae8b15dbae1be5e47c9","name":"Change When Needed Date","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"5686613a658046e08dba3f55e171d4ee","fields":["u_when_needed","short_description"],"id":"246d6af9d9a54280ae1ba0fd05a55cc3","name":"Updated NeedIt","goal_id":"d9e9ea2389424311bbff97f35c10b857","condition":{"type":"Condition","mode":"variable","value":""}},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"0cc7b9481bb34c58999fc1b3aa5e4605","name":"What To Update","goal_id":"d9e9ea2389424311bbff97f35c10b857","variable_id":"f89bb8578ebb424b8d356835b2fdd76d","message":{"type":"String","mode":"string","value":"What the heck do you want to update?"},"optional":false},{"type":"Decision","name":"Update Field","branches":[{"type":"Branch","label":"When needed","expression":{"type":"Applicability","mode":"query","value":"what_to_update=when_needed"},"id":"1ae4ce85bbc6423c8ed1ec99cce6f315","name":"When needed"},{"type":"Branch","label":"Nothing","expression":{"type":"Applicability","mode":"query","value":"what_to_update=nothing"},"id":"055ee065b2834225886e38570e4ecb1d","name":"Nothing"},{"type":"Branch","label":"Short description","expression":{"type":"Applicability","mode":"query","value":"what_to_update=short_description"},"id":"6f3f305e351e4dbb9a6553d42f281187","name":"Short description"}],"id":"f99dd5c6a4f44e088a4982348feff8fb","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"InputPrompt","variable_id":"1dec9d40cab843788d1e674052c58724","message":{"type":"String","mode":"string","value":"What the heck is the new description?"},"acknowledgement":{"type":"String","mode":"string","value":"Enter a new short description"},"optional":false,"id":"111ed134765e4cb5b5b9f69bd3faeea9","name":"New Short Description","goal_id":"d9e9ea2389424311bbff97f35c10b857"},{"type":"CRUDAction","mode":"update","query":"short_description={{vaInputs.new_short_description}}","variable_id":"5686613a658046e08dba3f55e171d4ee","id":"c5e1674deb2b46f49c690f843a2d607b","name":"Change Short Description","goal_id":"d9e9ea2389424311bbff97f35c10b857"}],"edges":[{"type":"Edge","source_node_id":"c5e1674deb2b46f49c690f843a2d607b","target_node_id":"246d6af9d9a54280ae1ba0fd05a55cc3","id":"ef633d2dba7a4f67ac3524ee8386dc24"},{"type":"Edge","source_node_id":"bbd3c8845bbd4bcb98d18be5d51c9fc5","target_node_id":"f811153eae214351b797c25b09e8b4e6","id":"adfb1983efc74532a4e2fea4e6c4fdad"},{"type":"Edge","source_node_id":"f811153eae214351b797c25b09e8b4e6","target_node_id":"528dc09f287e4b928736e6348dfd68c9","id":"2212e5b67bf247168be52a299cd8ed16"},{"type":"Edge","source_node_id":"528dc09f287e4b928736e6348dfd68c9","target_node_id":"ed7dad872bc441eb9ffb8c079e39138c","id":"22b9a0ad11b2413884ffbec76136cf42"},{"type":"Edge","source_node_id":"ed7dad872bc441eb9ffb8c079e39138c","target_node_id":"d7264a78911a4c868fbbf2aae30701bd","id":"d90133c80ab34111b36086760bbb4ef9"},{"type":"Edge","source_node_id":"0cf8fb26b561403cb68ae09d77932e83","target_node_id":"d258e98b0e794c95886a6211ed96182f","id":"c8eb4e8e6a0d44808915e2498e16312a"},{"type":"Edge","source_node_id":"d258e98b0e794c95886a6211ed96182f","target_node_id":"da745c5b2f344b2494a612b268d7df21","branch_id":"49a4fd64057b4b9886016d8cd9cc92e3","id":"607319aaac5a4131a411393324d52788","name":"49a4fd64057b4b9886016d8cd9cc92e3"},{"type":"Edge","source_node_id":"d258e98b0e794c95886a6211ed96182f","target_node_id":"f811153eae214351b797c25b09e8b4e6","branch_id":"0f05161b3cde4311be89181c9e74cf59","id":"941930aae3f54d2fab068bb14d1250a5","name":"0f05161b3cde4311be89181c9e74cf59"},{"type":"Edge","source_node_id":"816750e675ac401e811dcfdc027b2a86","target_node_id":"59bf316047074ae8b15dbae1be5e47c9","id":"4435f86bf4b8409598c00cf9ebca4862"},{"type":"Edge","source_node_id":"59bf316047074ae8b15dbae1be5e47c9","target_node_id":"246d6af9d9a54280ae1ba0fd05a55cc3","id":"63be30665ee94d39a7eae032a70e5e68"},{"type":"Edge","source_node_id":"246d6af9d9a54280ae1ba0fd05a55cc3","target_node_id":"0cf8fb26b561403cb68ae09d77932e83","id":"20d1b71afa8b4b3080a9015d517ed67a"},{"type":"Edge","source_node_id":"d7264a78911a4c868fbbf2aae30701bd","target_node_id":"0cc7b9481bb34c58999fc1b3aa5e4605","id":"7997784ca858490c875f264ed50fa76c"},{"type":"Edge","source_node_id":"0cc7b9481bb34c58999fc1b3aa5e4605","target_node_id":"f99dd5c6a4f44e088a4982348feff8fb","id":"611bd5f618bd4f5ab069178994ab25b3"},{"type":"Edge","source_node_id":"f99dd5c6a4f44e088a4982348feff8fb","target_node_id":"816750e675ac401e811dcfdc027b2a86","branch_id":"1ae4ce85bbc6423c8ed1ec99cce6f315","id":"98ad766feb714d3e8271032cad4fd2b7","name":"1ae4ce85bbc6423c8ed1ec99cce6f315"},{"type":"Edge","source_node_id":"f99dd5c6a4f44e088a4982348feff8fb","target_node_id":"0cf8fb26b561403cb68ae09d77932e83","branch_id":"055ee065b2834225886e38570e4ecb1d","id":"e7f4a237c6c0419b971b66bd5b89a695","name":"055ee065b2834225886e38570e4ecb1d"},{"type":"Edge","source_node_id":"f99dd5c6a4f44e088a4982348feff8fb","target_node_id":"111ed134765e4cb5b5b9f69bd3faeea9","branch_id":"6f3f305e351e4dbb9a6553d42f281187","id":"ed8954ca3a744c1fb1dda8b1025db587","name":"6f3f305e351e4dbb9a6553d42f281187"},{"type":"Edge","source_node_id":"111ed134765e4cb5b5b9f69bd3faeea9","target_node_id":"c5e1674deb2b46f49c690f843a2d607b","id":"e027179c09144a0183087ca4926ed472"}],"id":"d9e9ea2389424311bbff97f35c10b857"}],"script_variables":[],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user"},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"e2d8ba54ba6943abaf902582ae7fef1e","name":"needit_type"},{"type":"Reference","table":"x_58872_needit_needit","id":"5686613a658046e08dba3f55e171d4ee","name":"needit_list"},{"type":"True/False","id":"37fc0f3db1ab4a28be42e7fea628bd61","name":"search_again"},{"type":"Date/Time","mode":"date","id":"b9ee348078604c4d9f68b1281e64e6e0","name":"new_when_needed_date"},{"type":"Reference","table":"","id":"f3a4e47c212e4583adc9825ec9660865","name":"change_when_needed_date"},{"type":"Choice","choices":[{"name":"Short description","element":"short_description"},{"name":"When needed","element":"when_needed"},{"name":"Nothing","element":"nothing"}],"id":"f89bb8578ebb424b8d356835b2fdd76d","name":"what_to_update"},{"type":"String","name":"new_short_description","id":"1dec9d40cab843788d1e674052c58724"},{"type":"Reference","table":"","id":"019cc0e7278442608534d69a56a6dbb4","name":"change_short_description"}],"roles":[],"scope":"7a47bbe1db52330008bc85184b96196e","id":"ae18f765db52330008bc85184b9619d1","name":"_PRVW__ecff1c86c3d23300f134dd908c6c7854","key_phrases":["Update NeedIt Records","NeedIt Request"]}</design_definition>
        <design_topic_id>ae18f765db52330008bc85184b9619d1</design_topic_id>
        <name>_PRVW__ecff1c86c3d23300f134dd908c6c7854</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-06-28 18:36:01</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path>/</sys_domain_path>
        <sys_id>fcff1c86dbd2330008bc85184b961957</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="NeedIt Virtual Agent Conversations" source="x_330838_needit_vi">7a47bbe1db52330008bc85184b96196e</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt Virtual Agent Conversations">7a47bbe1db52330008bc85184b96196e</sys_scope>
        <sys_update_name>sys_cb_design_topic_fcff1c86dbd2330008bc85184b961957</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2019-06-28 18:36:01</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
